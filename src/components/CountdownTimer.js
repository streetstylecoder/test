import React, { useEffect, useState } from "react";

import "./CountdownTimer.css";

const CountdownTimer = () => {
  const calculateTimeLeft = () => {
    let year = new Date().getFullYear();
    let difference = +new Date(`8/09/${year}`) - +new Date();
    let timeLeft = {};

    if (difference > 0) {
      timeLeft = {
        days: Math.floor(difference / (1000 * 60 * 60 * 24)),
        hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
        minutes: Math.floor((difference / 1000 / 60) % 60),
        seconds: Math.floor((difference / 1000) % 60),
      };
    }

    return timeLeft;
  };

  const [timerLeft, setTimeLeft] = useState(calculateTimeLeft());
  const [year, setYear] = useState(new Date().getFullYear());

  useEffect(() => {
    const timer = setTimeout(() => {
      setTimeLeft(calculateTimeLeft());
      setYear(new Date().getFullYear());
    }, 1000);
    return () => clearTimeout(timer);
  });

  return (
    <div
      className="container counterContainer"
      style={{
        display: "flex",
        flexDirection: "column",
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <div className="live">
        <svg
          width="497"
          height="618"
          viewBox="0 0 497 618"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g id="Group 18">
            <g id="PaperHouse Logo">
              <g id="paper-house">
                <g id="Rectangle 2" filter="url(#filter0_d)">
                  <rect
                    x="45"
                    y="45"
                    width="399"
                    height="399"
                    rx="62"
                    fill="white"
                  />
                </g>
              </g>
              <g id="Subtract" filter="url(#filter1_di)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M95.4615 96.6188L148.115 344.129C148.507 345.976 150.139 347.296 152.027 347.296H244.327C244.773 347.296 245.216 347.371 245.638 347.517L387.51 396.744C390.593 397.814 393.591 394.94 392.652 391.814L388.286 377.288L339.09 340.898C332.417 347.332 323.692 351.812 313.763 353.225C288.935 356.76 265.984 339.782 262.499 315.305C259.014 290.829 276.316 268.121 301.144 264.586C325.971 261.052 348.923 278.029 352.408 302.506C353.585 310.779 352.388 318.851 349.328 326.048L379.62 348.455L341.526 221.702C341.321 221.02 340.938 220.405 340.416 219.921L245.721 132.061C245.248 131.622 244.676 131.304 244.053 131.134L100.427 91.9277C97.5378 91.1389 94.8383 93.689 95.4615 96.6188ZM312.701 285.186C319.931 285.448 326.438 289.648 329.653 296.129L334.132 293.907C330.102 285.783 321.945 280.518 312.882 280.19L310.674 280.11L310.493 285.107L312.701 285.186ZM312.071 341.345C330.498 338.722 343.055 321.954 340.527 304.197C337.999 286.44 321.261 273.843 302.835 276.466C284.409 279.09 271.851 295.857 274.379 313.614C276.907 331.371 293.645 343.968 312.071 341.345Z"
                  fill="#5C45FF"
                />
              </g>
              <g id="Vector 8" filter="url(#filter2_di)">
                <path
                  d="M244.5 220.152V133.757C244.5 132.01 246.583 131.103 247.862 132.293L340.71 218.688C342.04 219.925 341.165 222.152 339.348 222.152H246.5C245.395 222.152 244.5 221.257 244.5 220.152Z"
                  fill="#0097FD"
                />
              </g>
            </g>
            <g id="Paper House">
              <path
                d="M69.1157 520.635C69.1157 525.778 67.4312 529.72 64.062 532.46C60.6929 535.201 55.8975 536.571 49.6758 536.571H44.5547V555H36.5024V505.743H50.6865C56.8408 505.743 61.4453 507.001 64.5 509.517C67.5771 512.032 69.1157 515.738 69.1157 520.635ZM44.5547 529.799H48.8335C52.9663 529.799 55.9985 529.08 57.9302 527.643C59.8618 526.205 60.8276 523.959 60.8276 520.904C60.8276 518.074 59.9629 515.963 58.2334 514.57C56.5039 513.178 53.8086 512.481 50.1475 512.481H44.5547V529.799ZM101.426 555L99.8423 549.812H99.5728C97.7759 552.08 95.9678 553.63 94.1484 554.461C92.3291 555.27 89.9932 555.674 87.1406 555.674C83.4795 555.674 80.6157 554.686 78.5493 552.709C76.5054 550.732 75.4834 547.936 75.4834 544.32C75.4834 540.479 76.9097 537.582 79.7622 535.627C82.6147 533.673 86.9609 532.606 92.8008 532.427L99.2358 532.225V530.237C99.2358 527.856 98.6743 526.082 97.5513 524.914C96.4507 523.723 94.7324 523.128 92.3965 523.128C90.4873 523.128 88.6567 523.409 86.9048 523.97C85.1528 524.532 83.4683 525.194 81.8511 525.958L79.2905 520.298C81.312 519.242 83.5244 518.445 85.9277 517.906C88.3311 517.344 90.5996 517.063 92.7334 517.063C97.4727 517.063 101.044 518.097 103.447 520.163C105.873 522.229 107.086 525.475 107.086 529.9V555H101.426ZM89.6338 549.609C92.5088 549.609 94.811 548.812 96.5405 547.217C98.2925 545.6 99.1685 543.343 99.1685 540.445V537.211L94.3843 537.413C90.6558 537.548 87.938 538.177 86.231 539.3C84.5464 540.4 83.7041 542.096 83.7041 544.387C83.7041 546.049 84.1982 547.341 85.1865 548.262C86.1748 549.16 87.6572 549.609 89.6338 549.609ZM137.038 555.674C132.321 555.674 128.66 553.978 126.054 550.586H125.583C125.897 553.731 126.054 555.64 126.054 556.314V571.576H118.137V517.737H124.538C124.718 518.434 125.088 520.096 125.65 522.724H126.054C128.525 518.95 132.231 517.063 137.172 517.063C141.822 517.063 145.438 518.748 148.021 522.117C150.626 525.486 151.929 530.214 151.929 536.301C151.929 542.388 150.604 547.139 147.954 550.553C145.326 553.967 141.687 555.674 137.038 555.674ZM135.117 523.532C131.973 523.532 129.67 524.453 128.21 526.295C126.773 528.137 126.054 531.079 126.054 535.122V536.301C126.054 540.838 126.773 544.129 128.21 546.173C129.648 548.194 131.995 549.205 135.252 549.205C137.992 549.205 140.104 548.082 141.586 545.836C143.068 543.59 143.81 540.389 143.81 536.234C143.81 532.056 143.068 528.9 141.586 526.767C140.126 524.61 137.97 523.532 135.117 523.532ZM177.4 555.674C171.605 555.674 167.068 553.989 163.789 550.62C160.532 547.229 158.903 542.568 158.903 536.638C158.903 530.551 160.419 525.767 163.452 522.286C166.484 518.804 170.65 517.063 175.951 517.063C180.87 517.063 184.756 518.557 187.608 521.544C190.461 524.532 191.887 528.642 191.887 533.875V538.154H167.057C167.169 541.771 168.146 544.556 169.988 546.51C171.83 548.441 174.424 549.407 177.771 549.407C179.972 549.407 182.016 549.205 183.902 548.801C185.812 548.374 187.855 547.678 190.034 546.712V553.147C188.103 554.068 186.148 554.719 184.172 555.101C182.195 555.483 179.938 555.674 177.4 555.674ZM175.951 523.061C173.436 523.061 171.414 523.858 169.887 525.453C168.382 527.047 167.483 529.372 167.191 532.427H184.104C184.06 529.35 183.318 527.025 181.881 525.453C180.443 523.858 178.467 523.061 175.951 523.061ZM219.784 517.063C221.378 517.063 222.692 517.176 223.726 517.4L222.951 524.779C221.828 524.509 220.66 524.375 219.447 524.375C216.28 524.375 213.708 525.408 211.731 527.474C209.777 529.541 208.8 532.225 208.8 535.526V555H200.883V517.737H207.082L208.126 524.307H208.531C209.766 522.083 211.372 520.32 213.349 519.018C215.348 517.715 217.493 517.063 219.784 517.063Z"
                fill="#0097FD"
              />
              <path
                d="M288.278 555H280.192V532.797H257.484V555H249.432V505.743H257.484V525.891H280.192V505.743H288.278V555ZM333.458 536.301C333.458 542.388 331.897 547.139 328.775 550.553C325.653 553.967 321.307 555.674 315.737 555.674C312.255 555.674 309.178 554.888 306.505 553.315C303.833 551.743 301.777 549.486 300.34 546.543C298.902 543.601 298.184 540.187 298.184 536.301C298.184 530.259 299.733 525.542 302.833 522.151C305.933 518.759 310.301 517.063 315.939 517.063C321.33 517.063 325.597 518.804 328.742 522.286C331.886 525.745 333.458 530.417 333.458 536.301ZM306.337 536.301C306.337 544.904 309.515 549.205 315.872 549.205C322.161 549.205 325.305 544.904 325.305 536.301C325.305 527.789 322.138 523.532 315.804 523.532C312.48 523.532 310.065 524.633 308.561 526.834C307.078 529.035 306.337 532.191 306.337 536.301ZM368.868 555L367.756 550.115H367.352C366.251 551.844 364.679 553.203 362.635 554.191C360.614 555.18 358.3 555.674 355.695 555.674C351.18 555.674 347.811 554.551 345.587 552.305C343.364 550.059 342.252 546.656 342.252 542.096V517.737H350.237V540.715C350.237 543.567 350.821 545.712 351.989 547.15C353.157 548.565 354.987 549.272 357.48 549.272C360.805 549.272 363.242 548.284 364.792 546.308C366.364 544.309 367.15 540.973 367.15 536.301V517.737H375.101V555H368.868ZM411.42 544.387C411.42 548.026 410.095 550.822 407.445 552.776C404.794 554.708 400.999 555.674 396.057 555.674C391.093 555.674 387.106 554.921 384.097 553.417V546.577C388.477 548.599 392.553 549.609 396.327 549.609C401.201 549.609 403.638 548.138 403.638 545.196C403.638 544.252 403.368 543.466 402.829 542.837C402.29 542.208 401.403 541.557 400.167 540.883C398.932 540.209 397.214 539.446 395.013 538.592C390.723 536.93 387.814 535.268 386.287 533.606C384.782 531.944 384.029 529.788 384.029 527.137C384.029 523.948 385.31 521.477 387.87 519.725C390.453 517.951 393.957 517.063 398.382 517.063C402.762 517.063 406.906 517.951 410.814 519.725L408.253 525.688C404.233 524.026 400.853 523.195 398.112 523.195C393.935 523.195 391.846 524.386 391.846 526.767C391.846 527.935 392.385 528.923 393.463 529.731C394.563 530.54 396.944 531.652 400.605 533.067C403.683 534.257 405.917 535.347 407.31 536.335C408.703 537.323 409.736 538.469 410.41 539.771C411.083 541.052 411.42 542.59 411.42 544.387ZM436.285 555.674C430.49 555.674 425.953 553.989 422.673 550.62C419.417 547.229 417.788 542.568 417.788 536.638C417.788 530.551 419.304 525.767 422.336 522.286C425.369 518.804 429.535 517.063 434.836 517.063C439.755 517.063 443.641 518.557 446.493 521.544C449.346 524.532 450.772 528.642 450.772 533.875V538.154H425.941C426.054 541.771 427.031 544.556 428.873 546.51C430.714 548.441 433.309 549.407 436.655 549.407C438.856 549.407 440.9 549.205 442.787 548.801C444.696 548.374 446.74 547.678 448.919 546.712V553.147C446.987 554.068 445.033 554.719 443.057 555.101C441.08 555.483 438.823 555.674 436.285 555.674ZM434.836 523.061C432.32 523.061 430.299 523.858 428.771 525.453C427.267 527.047 426.368 529.372 426.076 532.427H442.989C442.944 529.35 442.203 527.025 440.766 525.453C439.328 523.858 437.352 523.061 434.836 523.061Z"
                fill="white"
              />
            </g>
          </g>
          <defs>
            <filter
              id="filter0_d"
              x="0"
              y="0"
              width="497"
              height="497"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feMorphology
                radius="3"
                operator="dilate"
                in="SourceAlpha"
                result="effect1_dropShadow"
              />
              <feOffset dx="4" dy="4" />
              <feGaussianBlur stdDeviation="23" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow"
                result="shape"
              />
            </filter>
            <filter
              id="filter1_di"
              x="91.3711"
              y="91.7826"
              width="305.456"
              height="320.19"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dy="4" />
              <feGaussianBlur stdDeviation="2" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow"
                result="shape"
              />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dy="15" />
              <feGaussianBlur stdDeviation="37.5" />
              <feComposite
                in2="hardAlpha"
                operator="arithmetic"
                k2="-1"
                k3="1"
              />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.770833 0 0 0 0 0.395052 0 0 0 0 0.444935 0 0 0 1 0"
              />
              <feBlend mode="normal" in2="shape" result="effect2_innerShadow" />
            </filter>
            <filter
              id="filter2_di"
              x="240.5"
              y="131.753"
              width="104.852"
              height="98.3991"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dy="4" />
              <feGaussianBlur stdDeviation="2" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow"
                result="shape"
              />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dy="4" />
              <feGaussianBlur stdDeviation="15" />
              <feComposite
                in2="hardAlpha"
                operator="arithmetic"
                k2="-1"
                k3="1"
              />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.392157 0 0 0 0 0.278431 0 0 0 0 0.956863 0 0 0 1 0"
              />
              <feBlend mode="normal" in2="shape" result="effect2_innerShadow" />
            </filter>
          </defs>
        </svg>

        <h1 id="live">Site Will Be Live In</h1>
        <div className="timer">
          <h2 style={{ textAlign: "center", color: "white" }}>
            {timerLeft["days"]} Days
          </h2>
          <h2 style={{ textAlign: "center", color: "white" }}>
            {timerLeft["hours"]} Hours
          </h2>
          <h2 style={{ textAlign: "center", color: "white" }}>
            {timerLeft["minutes"]} Minutes
          </h2>
          <h2 style={{ textAlign: "center", color: "white" }}>
            {timerLeft["seconds"]} Seconds
          </h2>
        </div>
      </div>
    </div>
  );
};

export default CountdownTimer;
